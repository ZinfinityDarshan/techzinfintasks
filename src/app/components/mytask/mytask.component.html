
<mat-accordion>
        <mat-expansion-panel [expanded]="true" style="background-color: gainsboro">

                <mat-expansion-panel-header>
                        <mat-panel-title>
                          Notes
                        </mat-panel-title>
                        
                </mat-expansion-panel-header>

                <view-notes></view-notes>


        </mat-expansion-panel>

        <mat-expansion-panel>

                <mat-expansion-panel-header>
                        <mat-panel-title>
                          Contacts
                        </mat-panel-title>
                        
                </mat-expansion-panel-header>

                <view-notes></view-notes>
                

        </mat-expansion-panel>

        <mat-expansion-panel>

                <mat-expansion-panel-header>
                        <mat-panel-title>
                          My Tasks
                        </mat-panel-title>
                        <mat-chip-list class="menu">
                            </mat-chip-list>
                            <span class="example-spacer"></span>
                            <mat-chip color="primary" selected [matMenuTriggerFor]="menu" >Types
                                    <mat-icon aria-hidden="false" aria-label="Example user verified icon">arrow_drop_down</mat-icon>
                            </mat-chip>
                            <mat-menu #menu="matMenu" class="menulaptop">
                                <button mat-menu-item (click)="filterOption('TASK')">Task</button>
                                <button mat-menu-item (click)="filterOption('ISSUE')">Issue</button>
                                <button mat-menu-item (click)="filterOption('DEV')" color="primary" selected>Dev</button>
                                <button mat-menu-item (click)="filterOption('SUPPORT')"color="accent" selected>Support</button>
                                <button mat-menu-item (click)="filterOption('PRODUCTION')" color ="warn" selected>Production</button>
                                <button mat-menu-item (click)="filterOption('CHANGE')" color="accent" selected>Change</button>
                                <button mat-menu-item (click)="filterOption('')">All</button>
                    
                            </mat-menu>
                            &nbsp;
                            <mat-chip color="warn" selected [matMenuTriggerFor]="menu2" >Priority
                                    <mat-icon aria-hidden="false" aria-label="Example user verified icon">arrow_drop_down</mat-icon>
                            </mat-chip>
                            &nbsp;
                            <mat-menu #menu2="matMenu" class="menulaptop">
                                <button mat-menu-item (click)="filterOption('TASK')">High</button>
                                <button mat-menu-item (click)="filterOption('ISSUE')">Medium</button>
                                <button mat-menu-item (click)="filterOption('DEV')">Low</button>
                            </mat-menu>
                            <mat-chip (click) = "changeStatus()" style="margin-right: 10px">C</mat-chip>
                </mat-expansion-panel-header>

                <div>
                        <div *ngIf="!statusFlag && mytasks != null; else notask">
                            <div *ngFor="let task of filtertasks" class="containerformytask">
                
                                    <mat-progress-bar mode="indeterminate" *ngIf="spinner"></mat-progress-bar>
                
                                <mat-card style="border-left: 5px solid red">
                
                                        <mat-card-header>
                                            <!-- <div mat-card-avatar class="example-header-image"></div> -->
                                            <mat-card-title><mat-chip color="warn" selected [routerLink]="['/admin']">{{task.taskid}}</mat-chip><strong> &nbsp;  : &nbsp; {{task.title}}</strong></mat-card-title>
                                            <!-- <mat-card-subtitle style="color: blue"></mat-card-subtitle> -->
                                        </mat-card-header>
                                        
                                        <mat-card-content>
                    
                                            <span style="float: right; font-size: 17px; margin-top: 20px"> Owner : <strong><span style="color: green">{{task.owner.name}}</span></strong></span>
                                            <mat-divider></mat-divider>
                                            <br>
                                            <strong style="font-size: 17px">Descp :</strong>
                                            <br><br><br>
                                            <p class="line-breaker">                                                    
                                                {{task.descp}}
                                            </p>
                                        </mat-card-content>
                                        <mat-divider></mat-divider>
                                        <br>
                                        <mat-card-actions>
                                            Start Date:  
                                            <a mat-stroked-button routerLink="." color="primary">{{task.startdate.toDate() | date}}</a>
                                            &nbsp; &nbsp; 
                                            End Date:
                                            <a mat-stroked-button routerLink="." color="primary">{{task.enddate.toDate() | date}}</a>
                                            &nbsp; &nbsp;
                                            Type:
                                            <a mat-stroked-button routerLink="." color="warn">{{task.type}}</a>
                                            <button mat-raised-button color="primary" style="float: right" *ngIf="task.status === 'OPEN'" (click)="startTask(task)">Start</button>
                                            <button mat-raised-button color="primary" style="float: right" *ngIf="task.status === 'INPROGRESS'">Complete</button>
                                        </mat-card-actions>
                                </mat-card>
                            </div>
                        </div>
                        <div *ngIf="statusFlag && mytasks != null; else notask">
                            <div *ngFor="let task of completedTasks" class="containerformytask">
                
                                <mat-progress-bar mode="indeterminate" *ngIf="spinner"></mat-progress-bar>
                
                                <mat-card style="border-left: 5px solid red">
                
                                        <mat-card-header>
                                            <mat-card-title><mat-chip color="warn" selected [routerLink]="['/admin']">{{task.taskid}}</mat-chip><strong> &nbsp;  : &nbsp; {{task.title}}</strong></mat-card-title>
                                        </mat-card-header>
                                        
                                        <mat-card-content>
                    
                                            <span style="float: right; font-size: 17px; margin-top: 20px"> Owner : <strong><span style="color: green">{{task.owner.name}}</span></strong></span>
                                            <mat-divider></mat-divider>
                                            <br>
                                            <strong style="font-size: 17px">Descp :</strong>
                                            <br><br><br>
                                            <p class="line-breaker">                                                    
                                                {{task.descp}}
                                            </p>
                                        </mat-card-content>
                                        <mat-divider></mat-divider>
                                        <br>
                                        <mat-card-actions>
                                            Start Date:  
                                            <a mat-stroked-button routerLink="." color="primary">{{task.startdate.toDate() | date}}</a>
                                            &nbsp; &nbsp; 
                                            End Date:
                                            <a mat-stroked-button routerLink="." color="primary">{{task.enddate.toDate() | date}}</a>
                                            &nbsp; &nbsp;
                                            Type:
                                            <a mat-stroked-button routerLink="." color="warn">{{task.type}}</a>
                                            <button mat-raised-button color="primary" style="float: right" *ngIf="task.status === 'OPEN'" (click)="startTask(task)">Start</button>
                                            <button mat-raised-button color="primary" style="float: right" *ngIf="task.status === 'INPROGRESS'">Complete</button>
                                        </mat-card-actions>
                                </mat-card>
                            </div>
                        </div>
                </div>

        </mat-expansion-panel>
</mat-accordion>

